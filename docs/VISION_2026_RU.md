# Видение и Стратегия Gastromap 2026

## 1. Оценка Текущего Состояния

### Обзор Продукта
Gastromap — это React-приложение для поиска ресторанов с элементами социальной сети и искусственного интеллекта. Основная ценность: найти где поесть, узнать детали и взаимодействовать с другими пользователями.

### Ключевые Возможности (Что уже есть)
*   **Авторизация:** Система на базе Firebase (Вход/Регистрация).
*   **Карта:** Интерактивный поиск заведений (Leaflet/Mapbox).
*   **AI Чат:** Разговорный интерфейс для рекомендаций (`AiChat`).
*   **Социальный Граф:** Профили пользователей, система друзей.
*   **Детали Заведений:** Просмотр карточки ресторана, избранное, поиск.
*   **Геймификация:** Базовая система бейджей, уровней или баллов.
*   **Бронирование:** Базовый сценарий резерва столика.

### Технический Стек и Долг
*   **Frontend:** React (Vite), Redux Toolkit, TypeScript.
*   **Backend:** Firebase (Auth, Firestore).
*   **Архитектура:** Feature-Sliced Design (`features/`, `components/`) — хорошо для масштабирования.
*   **Слабые места:**
    *   **Offline Mode:** Нет явной PWA-архитектуры (нужна проверка Service Workers).
    *   **Performance:** Клиентский рендеринг может влиять на SEO и скорость загрузки.
    *   **Данные:** Нужно перейти от моковых данных к реальному API.

---

## 2. Анализ Разрыва (Рынок vs Мы)

| Категория | Стандарт Лидеров (2026) | Текущий Gastromap | Разрыв (Gap) |
| :--- | :--- | :--- | :--- |
| **Поиск** | Гипер-персонализация, контекст (погода, здоровье, настроение) | Поиск по ключевым словам и карте | Не хватает проактивных "Zero-UI" рекомендаций. |
| **Социум** | Совместные обеды, live-шеринг локации, подборки инфлюенсеров | Список друзей, Профили | Пассивное общение вместо активной координации встреч. |
| **Контент** | Вертикальные видео (TikTok-style), AR меню, 3D | Статичные фото, Текст | Низкая визуальная вовлеченность. Справочник, а не "экспириенс". |
| **Лояльность** | Кросс-ресторанные крипто-реварды, NFT | Обычные баллы/бейджи | Награды изолированы и не имеют реальной ценности. |
| **AI** | Голосовые ассистенты, авто-бронирование | Текстовый чат | AI реактивен (ждет вопроса), а не проактивен (сам предлагает). |

---

## 3. Убийственные Фичи ("Gastromap 2026")

### 1. "Mood & Bio-Sync" (AI + Здоровье)
*   **Концепт:** Не спрашивай "Что ты хочешь?". Интегрируйся с Apple Health/Google Fit. Если юзер только что потренировался — предложи протеин. Если сидел весь день — легкий салат.
*   **Реализация:** `HealthKit` API + LLM промпты с биометрическим контекстом.

### 2. Smart Menu (Умное Меню вместо PDF)
*   **Концепт:** Вместо того чтобы заставлять пользователя зумить мутные фото меню, мы показываем красивый, единый список блюд.
*   **Магия для Админа:** Админ просто загружает фото/PDF меню.
*   **Реализация (AI Pipeline):**
    1.  **OCR + LLM:** Агент сканирует фото, распознает текст.
    2.  **Структурирование:** Преобразует "хаос" в JSON (Категория, Блюдо, Цена, Ингредиенты, Граммы).
    3.  **Унификация:** Все меню в приложении выглядят одинаково стильно и чисто.
    4.  **Поиск:** Позволяет искать "паста с трюфелем" по всем ресторанам сразу.

### 3. "GastroDAO" (Геймификация и Статусы)
*   **Концепт:** Ешь в партнерских ресторанах — майнишь "GastroCoin". Тратишь на секретные блюда или оплату счета.
*   **Реализация:** Интеграция Solana/Polygon L2 + Встроенный кошелек.

### 4. "Dine With Me" (Tinder для Обеда)
*   **Концепт:** Опция "Ищу компанию на обед" на карте (активна 60 мин). Матчит с друзьями или коллегами рядом.
*   **Реализация:** Геолокация в фоне + WebSocket (real-time).

### 5. Кнопка "Анти-Решение" (Групповой Выбор)
*   **Концепт:** Компания не может выбрать? Каждый свайпает 10 вариантов вправо/влево. Приложение математически вычисляет идеальный компромисс.
*   **Реализация:** Сессия по сокетам + Взвешенный алгоритм голосования.

---

## 4. Техническая Дорожная Карта (Roadmap)

### Этап 1: Фундамент (Q1-Q2)
*   **PWA Transformation:** Максимальный офлайн (Vite PWA plugin). Кэширование данных для метро/самолета.
*   **Производительность:** Code-splitting и lazy loading для тяжелых компонентов (Map, AR).
*   **Type Safety:** Строгий TypeScript во всех `services/` и `store/`.

### Этап 2: "Умный" Слой (Q3)
*   **Векторный Поиск:** Переход на семантический поиск (Pinecone/Milvus) для запросов типа "уютное место для свидания в дождь".
*   **Edge Functions:** Вынос тяжелых вычислений (AI) на Edge (Vercel/Cloudflare) для скорости.

### Этап 3: Расширение и Экосистема (Q4+)
*   **React Native Port:** Обернуть логику в нативное приложение для лучшего доступа к Гео/AR.
*   **Портал Ресторатора:** B2B часть для владельцев (управление меню, аналитика).

---

## 5. Стратегия Монетизации

### 1. "Priority Craving" (B2B Реклама)
*   **Модель:** Рестораны платят за поднятие в поиске *только* при высокой релевантности AI-запросу пользователя (не бесит, так как полезно).
*   **Доход:** CPC (за клик) или CPA (за бронь).

### 2. GastroMap Premium (B2C Подписка)
*   **Цена:** $4.99/мес.
*   **Бонусы:**
    *   Бронь без комиссии.
    *   Доступ к эксклюзивным столикам ("Chef's Table").
    *   Двойные реварды (Crypto/Геймификация).
    *   Продвинутая нутрициология.

### 3. Транзакционная (Комиссия за Бронь)
*   **Модель:** Небольшая фикса ($1-2) за бронь дефицитных столиков в пиковые часы (динамическое ценообразование).
