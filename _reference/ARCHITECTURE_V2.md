# üèó GastroMap V2: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –°–∫–µ–ª–µ—Ç –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –Ω–æ–≤–æ–π, –æ–±–ª–µ–≥—á–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –¶–µ–ª—å: —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω (–¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º—É), –Ω–æ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å —á–∏—Å—Ç—É—é, –º–æ–¥—É–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É —Å –Ω—É–ª—è, –∏–∑–±–µ–≥–∞—è –æ—à–∏–±–æ–∫ –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

## 1. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –°—Ç–µ–∫

*   **Core**: React + Vite (–±—ã—Å—Ç—Ä–∞—è —Å–±–æ—Ä–∫–∞).
*   **Routing**: React Router v6 (—Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–µ-—Ñ–∞–∫—Ç–æ).
*   **State Management**: Zustand (–ø—Ä–æ—â–µ –∏ –ª–µ–≥—á–µ Redux) –∏–ª–∏ Context API –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –≤–µ—â–µ–π.
*   **API/Backend**: Supabase (Auth, DB, Storage).
*   **Styling**: Tailwind CSS (—Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–∏–π –¥–∏–∑–∞–π–Ω).
*   **UI Components**: Shadcn/ui (–º–æ–¥—É–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ–ø–∏—Ä—É–µ–º –≤ `src/components/ui`).
*   **Data Fetching**: TanStack Query (v5) ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∑–∞–≥—Ä—É–∑–∫–∏ (–º—ã —É–∂–µ —É–±–µ–¥–∏–ª–∏—Å—å –≤ –µ–≥–æ –ø–æ–ª—å–∑–µ).

---

## 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü–∞–ø–æ–∫ (Best Practices)

–í–º–µ—Å—Ç–æ –ø–ª–æ—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º `feature-based` –ø–æ–¥—Ö–æ–¥. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç —Ä–∞–∑—Ä–∞—Å—Ç–∞–Ω–∏–µ –ø–∞–ø–æ–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

```
src/
‚îú‚îÄ‚îÄ app/                 # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ router.jsx       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–æ—É—Ç–µ—Ä–∞
‚îÇ   ‚îî‚îÄ‚îÄ queryClient.js   # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ React Query
‚îú‚îÄ‚îÄ assets/              # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —à—Ä–∏—Ñ—Ç—ã, –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ styles/          # index.css (Tailwind –∏–º–ø–æ—Ä—Ç—ã)
‚îú‚îÄ‚îÄ components/          # Shared –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ ui/              # –ë–∞–∑–æ–≤—ã–µ UI —ç–ª–µ–º–µ–Ω—Ç—ã (Button, Input –∏ —Ç.–¥. - –∏–∑ shadcn)
‚îÇ   ‚îú‚îÄ‚îÄ layout/          # Header, Footer, Sidebar
‚îÇ   ‚îî‚îÄ‚îÄ common/          # –û–±—â–∏–µ –≤–∏–¥–∂–µ—Ç—ã (Loading, ErrorBoundary)
‚îú‚îÄ‚îÄ features/            # –û–°–ù–û–í–ù–ê–Ø –õ–û–ì–ò–ö–ê (Feature-sliced)
‚îÇ   ‚îú‚îÄ‚îÄ auth/            # –í—Å—ë –ø—Ä–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/  # LoginForm, RegisterForm
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/       # useAuth
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api/         # authService.js
‚îÇ   ‚îú‚îÄ‚îÄ public/          # –ü—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (Landing, About)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/  # HeroSection, FeaturesSection
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ pages/       # HomePage.jsx
‚îÇ   ‚îú‚îÄ‚îÄ dashboard/       # –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/  # UserProfile, UserSettings
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ pages/       # DashboardPage.jsx
‚îÇ   ‚îî‚îÄ‚îÄ admin/           # –ê–¥–º–∏–Ω–∫–∞
‚îÇ       ‚îú‚îÄ‚îÄ components/  # –û—Ç–¥–µ–ª—å–Ω—ã–µ –ø–∞–ø–∫–∏! LocationTable, UserList
‚îÇ       ‚îî‚îÄ‚îÄ pages/       # AdminPage.jsx (—Ç–µ–ø–µ—Ä—å —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –ª–µ–π–∞—É—Ç –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
‚îú‚îÄ‚îÄ hooks/               # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ö—É–∫–∏ (useTheme, useToast)
‚îú‚îÄ‚îÄ lib/                 # –£—Ç–∏–ª–∏—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (supabaseClient.js, utils.js)
‚îî‚îÄ‚îÄ services/            # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ API —Å–µ—Ä–≤–∏—Å—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã –≤–Ω–µ —Ñ–∏—á–µ–π)
```

---

## 3. –≠—Ç–∞–ø—ã –†–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (Roadmap)

### –≠—Ç–∞–ø 1: –§—É–Ω–¥–∞–º–µ–Ω—Ç –∏ –î–∏–∑–∞–π–Ω (Migration)
1.  **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**: `npm create vite@latest`.
2.  **Tailwind**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ `tailwind.config.js` (–∫–æ–ø–∏—Ä—É–µ–º —Ü–≤–µ—Ç–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞).
3.  **UI Kit**: –ü–µ—Ä–µ–Ω–æ—Å –ø–∞–ø–∫–∏ `src/components/ui` (–∫–Ω–æ–ø–∫–∏, –∏–Ω–ø—É—Ç—ã) –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞. –≠—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å.
4.  **Public Pages**: –ü–µ—Ä–µ–Ω–æ—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ª–µ–Ω–¥–∏–Ω–≥–∞ –≤ `features/public`. –ü—Ä–æ—Å—Ç–æ –∫–æ–ø–∏—Ä—É–µ–º JSX –∏ —Å—Ç–∏–ª–∏.

### –≠—Ç–∞–ø 2: –ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö –∏ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
1.  **Supabase Setup**: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ Supabase (—á–∏—Å—Ç—ã–π –ª–∏—Å—Ç).
2.  **Schema V2**: –°–æ–∑–¥–∞–Ω–∏–µ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π —Å—Ö–µ–º—ã (—Å–º. —Ä–∞–∑–¥–µ–ª –ë–î –Ω–∏–∂–µ).
3.  **Auth**: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –í—Ö–æ–¥–∞/–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Supabase Auth UI –∏–ª–∏ —Å–≤–æ–∏ —Ñ–æ—Ä–º—ã.

### –≠—Ç–∞–ø 3: User Dashboard
1.  **–ü—Ä–æ—Ñ–∏–ª—å**: –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
2.  **–ò–∑–±—Ä–∞–Ω–Ω–æ–µ**: –°–ø–∏—Å–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ª–æ–∫–∞—Ü–∏–π.

### –≠—Ç–∞–ø 4: Admin Panel (Clean Start)
*–í–∞–∂–Ω–æ: –ù–µ –∫–æ–ø–∏—Ä—É–µ–º `Admin.jsx` —Ü–µ–ª–∏–∫–æ–º!*
1.  –°–æ–∑–¥–∞–µ–º `features/admin/pages/AdminLayout.jsx` (–º–µ–Ω—é —Å–±–æ–∫—É).
2.  –°–æ–∑–¥–∞–µ–º –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è —Ä–æ—É—Ç–µ—Ä–∞: `/admin/locations`, `/admin/users`.
3.  –î–ª—è –∫–∞–∂–¥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –ø–∏—à–µ–º —Å–≤–æ–π `useQuery` —Ö—É–∫ (–∫–∞–∫ –º—ã –¥–µ–ª–∞–ª–∏ `useAdminData`, –Ω–æ —Ä–∞–∑–¥–µ–ª—å–Ω–æ).
4.  –¢–∞–±–ª–∏—Ü—ã –¥–µ–ª–∞–µ–º –Ω–∞ `tanstack/react-table` (–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –º–∞–ø–∏–º –¥–∞–Ω–Ω—ã–µ, –µ—Å–ª–∏ –ø—Ä–æ—Å—Ç–æ).

---

## 4. –°—Ö–µ–º–∞ –ë–∞–∑—ã –î–∞–Ω–Ω—ã—Ö (V2 Simplified)

–ò–∑–±–∞–≤–ª—è–µ–º—Å—è –æ—Ç –∏–∑–ª–∏—à–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏.

**–¢–∞–±–ª–∏—Ü—ã:**

1.  **profiles** (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ users)
    *   `id` (uuid, PK, ref auth.users)
    *   `email`
    *   `role` (user/admin/moderator)
    *   `full_name`
    *   `avatar_url`

2.  **locations**
    *   `id` (uuid)
    *   `title`
    *   `description`
    *   `address`
    *   `coordinates` (point –∏–ª–∏ jsonb {lat, lng})
    *   `category` (restaurant, cafe, bar)
    *   `images` (text[])
    *   `status` (pending, published, rejected) - –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏
    *   `created_by` (uuid, ref profiles)

3.  **reviews** (–æ—Ç–∑—ã–≤—ã)
    *   `id`
    *   `location_id`
    *   `user_id`
    *   `rating` (1-5)
    *   `comment`
    *   `status` (published, hidden)

*–ü–æ–∫–∞ –Ω–µ –Ω—É–∂–Ω—ã —Å–ª–æ–∂–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã —Ç–∏–ø–∞ `moderation_rounds` –∏–ª–∏ —Å–ª–æ–∂–Ω—ã–µ —Å–≤—è–∑–∏ –º–Ω–æ–≥–∏–µ-–∫–æ-–º–Ω–æ–≥–∏–º, –µ—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —ç—Ç–æ–≥–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∂–µ—Å—Ç–∫–æ.*

---

## 5. –ß—Ç–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞?

‚úÖ **–ú–û–ñ–ù–û –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å:**
*   `src/components/ui/*` (Button, Input, Card –∏ —Ç.–¥.) - —ç—Ç–æ —Å–∫–µ–ª–µ—Ç –¥–∏–∑–∞–π–Ω–∞.
*   `src/index.css` (–≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏).
*   `tailwind.config.js` (—Ç–µ–º–∞).
*   –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ `src/lib/utils.js`.
*   JSX –∫–æ–¥ *–≤–∏–∑—É–∞–ª—å–Ω—ã—Ö* –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ª–µ–Ω–¥–∏–Ω–≥–∞ (Hero, Footer).

‚ùå **–ù–ï –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å (–ø–∏—Å–∞—Ç—å –∑–∞–Ω–æ–≤–æ):**
*   –õ–æ–≥–∏–∫—É `Admin.jsx` (–ø–∏—Å–∞—Ç—å —Å –Ω—É–ª—è, —Ä–∞–∑–±–∏–≤–∞—è –Ω–∞ —Ñ–∞–π–ª—ã).
*   –°–ª–æ–∂–Ω—ã–µ `useEffect` —Ü–µ–ø–∏.
*   –°—Ç–∞—Ä—ã–µ —Ö—É–∫–∏, –µ—Å–ª–∏ –æ–Ω–∏ —Ç—è–Ω—É—Ç –∑–∞ —Å–æ–±–æ–π –ª–∏—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

–≠—Ç–æ—Ç –ø–ª–∞–Ω –ø–æ–∑–≤–æ–ª–∏—Ç –≤–∞–º —Å–æ–±—Ä–∞—Ç—å "Lego" –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞, –Ω–æ –Ω–∞ –Ω–æ–≤–æ–º, –ø—Ä–æ—á–Ω–æ–º —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–µ –ª–æ–≥–∏–∫–∏.
